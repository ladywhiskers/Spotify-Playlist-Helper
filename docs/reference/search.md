# Search

Методы поиска. Используются другими функциями. Понадобится только для индивидуальных решений.

### find*

Возвращает массив с результатами поиска по ключевому слову для типов: плейлист, трек, альбом, исполнитель.

Аргументы
- (массив) `keywords` - перечень ключевых слов, только строки. На каждое в результатах будет свой массив.
- (число) `requestCount` - количество запросов на **одно** ключевое слово. На один запрос 50 объектов, если они есть. Максимум 40 запросов. По умолчанию 1.

Пример 1 - Найти 100 плейлистов по слову `rain`

?> Лучшим способом будет функция [mineTracks](/reference/source?id=minetracks). Прямое использование модуля Search нужно для решений, которые не реализованы по умолчанию. Например, при [импорте треков с FM-радио](https://github.com/Chimildic/goofy/discussions/35).

```js
let keywords = ['rain'];
let playlists = Search.findPlaylists(keywords, 2);
```

### getNoFound

Возвращает массив с ключевыми словами и типом поиска, для которых не нашлось результатов за текущее выполнение скрипта. 

Аргументов нет.

```js
let noFound = Search.getNoFound();
// структура: { type: '', keyword: '', item: {} }
```

### multisearch*

Возвращается лучшее совпадение по ключевому словаму трека/исполнителя/альбома

Аргументы
- (массив) `items` - перебираемые элементы
- (функция) `parseNameMethod` - коллбэк, вызываемый для каждого элемента. Должен вернуть строку, являющуюся ключевым словом для поиска.

Пример 1 - Когда массив элементов с простым текстом
```js
let keywords = ['skillet', 'skydive'];
let artists = Search.multisearchArtists(keywords, (i) => i);
```

Пример 2 - Когда массив элементов со сложной структурой
```js
let tracks = Search.multisearchTracks(items, (item) => {
    return `${item.artist} ${item.title}`.formatName();
});
```